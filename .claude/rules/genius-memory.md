# Genius Team — Memory System

> Genius Team uses **two complementary memory layers**. Know which to use.

---

## Memory Hierarchy

| Layer | Location | What goes here | Shared? |
|-------|----------|----------------|---------|
| **Auto Memory** | `~/.claude/projects/<project>/memory/` | Personal learnings, debugging insights, patterns you discovered | ❌ Just you |
| **Project Memory** | `.genius/memory/` (JSON + BRIEFING.md) | Team decisions, architecture, sprint progress | ✅ Team (git-tracked) |
| **CLAUDE.md import** | Auto-loaded via `@.genius/memory/BRIEFING.md` | Project context loaded at every session | ✅ Team |

---

## Auto Memory — What to save here

Use `/memory` or tell Claude directly: *"remember that..."*

**Save to Auto Memory when:**
- You discover a project pattern → `"remember: we always use X for Y in this project"`
- You fix a tricky bug → `"save to memory: the auth bug was caused by..."`
- You find a perf trick → `"note in memory: avoid calling Z on startup"`
- User corrects a mistake → save the rule so it's not repeated
- Architecture insight → relationships between modules, key abstractions

**Example triggers:**
```
"Remember that we use pnpm, not npm"
"Save to memory: the API requires Bearer token in Authorization header"
"Note: Redis must be running locally for integration tests"
```

---

## Project Memory `.genius/memory/` — Team-shared

This stays in git. It's for the team.

| File | When to update |
|------|---------------|
| `BRIEFING.md` | Auto-generated by `scripts/memory-briefing.sh` — don't edit manually |
| `decisions.json` | When a key architecture decision is made |
| `patterns.json` | When a recurring code pattern is validated |
| `errors.json` | When a recurring error is resolved |
| `progress.json` | Automatically by the orchestrator |

---

## On Session Start

Claude Code auto-loads:
1. `CLAUDE.md` (this project) + `@.genius/memory/BRIEFING.md` (project context)
2. Auto Memory `MEMORY.md` (your personal learnings, first 200 lines)

You don't need to manually load context. It's already there.

---

## CLAUDE.local.md — Your personal project prefs

Create `CLAUDE.local.md` in the project root for personal settings that **won't be committed**:
```markdown
# My Local Preferences
- My dev server runs on http://localhost:3001 (not 3000)
- I use Postgres on port 5433
- Skip linting on save (my IDE does it)
```

This file is auto-added to `.gitignore` — safe to use for local URLs, personal tokens, etc.
